# shared by all experiences
# lxr, 2020.01
ROOT_PATH=../..
SRC=$(ROOT_PATH)/src
INCLUDE=$(ROOT_PATH)/include
SRCS=$(wildcard $(SRC)/*.c ./*.c)
HDRS=$(wildcard $(INCLUDE)/*.h $(SRC)/*.h)

CC=gcc
CFLAGS +=-Wall -g -I$(INCLUDE) $(PRE_MACRO)

all: $(TARGET)

$(TARGET): $(SRCS) $(HDRS) Makefile
	$(CC) $(CFLAGS) \
    -o $@ \
    $(SRCS)

asm: $(SRCS) $(HDRS) Makefile
	$(CC) $(CFLAGS) \
    -S $(SRCS)

asm_clean:
	-rm -f *.s

clean:
	-rm -f *.s
	-rm -f $(TARGET)
